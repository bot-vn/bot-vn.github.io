<!DOCTYPE html>
<html>
<head>
  <title>BOT JIMMY-HOANG V2.1</title>
</head>
<body>
  <h1>BOT JIMMY-HOANG V2.1</h1>
  <p>Đang triệu hồi TikTok LIVE...</p>
  <p>Nếu phép lỗi, hãy thử lại</p>

  <script>
    // Hàm base62 decode từ 12Help.js
    const BASE62_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
    function decodeBase62(str) {
      let n = 0n;
      for (const char of str) {
        const value = BASE62_CHARS.indexOf(char);
        if (value === -1) throw new Error('Invalid base62 character');
        n = n * 62n + BigInt(value);
      }
      return n.toString();
    }

    // Lấy encodedRoomId từ URL
    const urlParams = new URLSearchParams(window.location.search);
    const encodedRoomId = urlParams.get(''); // Lấy phần sau dấu ?

    if (encodedRoomId) {
      try {
        const roomId = decodeBase62(encodedRoomId);
        // Chuyển hướng đến TikTok Live
        window.location.href = `https://www.tiktok.com/live?room_id=${roomId}`;
      } catch (error) {
        console.error('Lỗi giải mã roomId:', error);
        alert('Không thể vào phòng live. Vui lòng thử lại!');
      }
    } else {
      console.error('Không tìm thấy roomId trong URL');
    }
  </script>
</body>
</html>
